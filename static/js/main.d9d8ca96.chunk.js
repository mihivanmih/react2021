(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),s=n.n(r),c=(n(136),n(116)),a=n(42),i=n(93),o=n(94),u=n(38),l=n(89),d=n(1),j=Object(u.a)(10),b=Object(o.a)({form:"wall"})((function(e){return Object(d.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(d.jsx)(i.a,{validate:[u.b,j],component:l.a,name:"textarea",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(d.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),f=s.a.memo((function(e){if(console.log("sdfsf"),!e.profile)return Object(d.jsx)(a.a,{});var t=e.posts.map((function(e){return Object(d.jsx)(c.a,{message:e.message,like:e.like},e.id)}));return Object(d.jsxs)("div",{children:["\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"\u0410\u0432\u0430\u0442\u0430\u0440 ",Object(d.jsx)("br",{}),Object(d.jsx)("img",{src:e.profile.photos.large,alt:""}),Object(d.jsx)("br",{}),"\u0418\u043c\u044f: ",e.profile.fullName,Object(d.jsx)("br",{}),"\u041e\u0431\u043e \u043c\u043d\u0435: ",e.profile.aboutMe,Object(d.jsx)("br",{}),"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443: ",e.profile.lookingForAJob?Object(d.jsx)("span",{children:"\u0414\u0430"}):Object(d.jsx)("span",{children:"\u041d\u0435\u0442"})," ",Object(d.jsx)("br",{}),"\u041e \u0440\u0430\u0431\u043e\u0442\u0435: ",e.profile.lookingForAJobDescription," ",Object(d.jsx)("br",{}),"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",e.profile.contacts.vk,Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"}),Object(d.jsx)(b,{onSubmit:function(t){e.addPost(t.textarea),t.textarea=""}}),t]})}))},115:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(48),s=n(5),c="ADD-MESSAGE",a={messages:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:2,message:"\u0417\u0430\u0432\u0442\u0440\u0430 \u0435\u0434\u0435\u043c \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0434\u0438\u043d\u043e\u0437\u0430\u0432\u0440\u043e\u0432"},{id:3,message:"\u0412 \u044d\u043a\u043e \u043f\u0430\u0440\u043a"}],dialogs:[{id:1,name:"\u041c\u0430\u0448\u0430"},{id:2,name:"\u0410\u043d\u0442\u043e\u043d"},{id:3,name:"\u0412\u0430\u043d\u044c\u043a\u0430"},{id:4,name:"\u0422\u0430\u043d\u044c\u043a\u0430"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:5,message:t.newText};return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}},o=function(e){return{type:c,newText:e}}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(239);var r=n(1),s=function(e){return Object(r.jsxs)("div",{className:"item",children:[Object(r.jsx)("div",{className:"img",children:Object(r.jsx)("img",{src:"/images/ava.webp",alt:""})}),Object(r.jsx)("div",{className:"text",children:e.message}),Object(r.jsxs)("div",{className:"like",children:[e.like," like"]})]})}},119:function(e,t,n){e.exports={topimg:"profile_topimg__Vcfz3",content:"profile_content__3QBdM"}},126:function(e,t,n){"use strict";n(0)},127:function(e,t,n){"use strict";n(5),n(14),n(65),n(0),n(12),n(1)},136:function(e,t,n){},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(41),s=n.n(r),c=n(15),a=n(1),i=function(e){return Object(a.jsx)("div",{className:"item",children:Object(a.jsx)(c.b,{to:"/messages/"+e.id,activeClassName:s.a.active,children:e.name})})}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),s=function(e){return Object(r.jsx)("div",{className:"message",children:e.message})}},162:function(e,t,n){e.exports={lds_spinner:"preloader_lds_spinner__2gOt3","lds-ellipsis1":"preloader_lds-ellipsis1__1Xz7E","lds-ellipsis2":"preloader_lds-ellipsis2__2kwIx","lds-ellipsis3":"preloader_lds-ellipsis3__3O-Nl"}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(58),s=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"e00624ca-0648-4efd-9fcc-56771035be83"}}),c={getUsersApi:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},postUser:function(e){return s.post("follow/"+e).then((function(e){return e.data}))},deleteUser:function(e){return s.delete("follow/"+e).then((function(e){return e.data}))},getLoginName:function(){return s.get("auth/me").then((function(e){return e.data}))},getProfile:function(e){return console.warn("\u0441\u0442\u0430\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434"),a.getProfile(e)}},a={getProfile:function(e){return s.get("profile/"+e).then((function(e){return e.data}))},getProfileStatus:function(e){return s.get("profile/status/"+e).then((function(e){return e.data}))},updateProfileStatus:function(e){return s.put("profile/status",{status:e})}},i={loginPost:function(e,t,n){return s.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logoutPost:function(){return s.delete("/auth/login").then((function(e){return e.data}))}}},209:function(e,t,n){},210:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var r=n(13),s=n.n(r),c=n(22),a=n(5),i=n(17),o=n(52),u="FOLLOW",l={userId:null,email:null,login:null,isAuth:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}},j=function(e,t,n,r){return{type:u,payload:{userId:e,email:t,login:n,isAuth:r}}},b=function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,c,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.getLoginName();case 2:0===(n=e.sent).resultCode&&(r=n.data,c=r.email,a=r.id,o=r.login,t(j(a,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n){return function(){var r=Object(c.a)(s.a.mark((function r(c){var a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.loginPost(e,t,n);case 2:0===(a=r.sent).resultCode?c(b()):c(Object(o.a)("login",{_error:a.messages}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logoutPost();case 2:0===e.sent.resultCode&&t(j(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},345:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(59),a=n.n(c),i=(n(209),n(27)),o=n(28),u=n(30),l=n(29),d=(n(210),n(95)),j=n.n(d),b=n(15),f=n(25),p=n(1),O=function(e){return Object(p.jsxs)("header",{children:[Object(p.jsx)("a",{href:"/",children:Object(p.jsx)("img",{src:"/images/logo.svg",className:j.a.logo,alt:""})}),e.isAuth?Object(p.jsxs)("div",{className:j.a.loginBlock,children:[e.login,Object(p.jsx)("button",{onClick:e.userlogut,children:" \u0412\u044b\u0439\u0442\u0438 "})]}):Object(p.jsx)("div",{className:j.a.loginBlock,children:Object(p.jsx)(b.b,{to:"/login",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})},h=(n(238),function(){return Object(p.jsx)("footer",{className:"footer",children:"\u0424\u0443\u0442\u0435\u0440"})}),g=n(49),m=n.n(g),x=function(){return Object(p.jsx)("div",{className:m.a.leftMenu,children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:m.a.item,children:Object(p.jsx)(b.b,{to:"/profile",activeClassName:m.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(p.jsx)("li",{className:m.a.item,children:Object(p.jsx)(b.b,{to:"/messages",activeClassName:m.a.active,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(p.jsx)("li",{className:m.a.item,children:Object(p.jsx)(b.b,{to:"/users",activeClassName:m.a.active,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"https://onlinetimer.ru/#!/timer/2021-03-01T10:49:34.984Z/2021-03-01T08:47:45.266Z/forward/0/2/100/t/2021-03-01T11:59:25.799Z/",target:"_blank",children:"\u0422\u0430\u0439\u043c\u0435\u0440"})})]})})},v=n(119),_=n.n(v),k=(n(41),function(e){return Object(p.jsxs)("div",{className:"item",children:[e.dateState," - ",e.timeState," - ",e.study]})}),w=function(){var e=[{id:"0",date:"28.02.2021",time:"02:50:00",study:"React 1 \u0440\u043e\u043a"},{id:"1",date:"01.03.2021",time:"03:45:38",study:"React 25 \u0443\u0440\u043e\u043a"},{id:"2",date:"02.03.2021",time:"03:15:05",study:"React 35 \u0443\u0440\u043e\u043a"},{id:"3",date:"03.03.2021",time:"06:26:28",study:"React 40 \u0443\u0440\u043e\u043a"},{id:"4",date:"04.03.2021",time:"05:48:10",study:"React 49 \u0443\u0440\u043e\u043a"},{id:"5",date:"05.03.2021",time:"03:02:08",study:"React 55 \u0443\u0440\u043e\u043a"},{id:"6",date:"06.03.2021",time:"04:11:51",study:"React 59 \u0443\u0440\u043e\u043a"},{id:"7",date:"07.03.2021",time:"06:08:03",study:"React 63 \u0443\u0440\u043e\u043a"},{id:"8",date:"08.03.2021",time:"01:41:00",study:"React 65 \u0443\u0440\u043e\u043a"},{id:"9",date:"09.03.2021",time:"03:11:07",study:"React 68 \u0443\u0440\u043e\u043a"},{id:"10",date:"10.03.2021",time:"03:13:04",study:"React 72 \u0443\u0440\u043e\u043a"},{id:"11",date:"11.03.2021",time:"02:03:04",study:"React 74 \u0443\u0440\u043e\u043a"},{id:"12",date:"12.03.2021",time:"03:29:15",study:"React 77 \u0443\u0440\u043e\u043a"},{id:"13",date:"13.03.2021",time:"01:51:05",study:"React 79 \u0443\u0440\u043e\u043a"},{id:"14",date:"14.03.2021",time:"02:13:25",study:"React 81 \u0443\u0440\u043e\u043a"},{id:"15",date:"15.03.2021",time:"05:31:07",study:"React 89 \u0443\u0440\u043e\u043a"},{id:"16",date:"16.03.2021",time:"06:36:30",study:"React 94 \u0443\u0440\u043e\u043a"},{id:"17",date:"17.03.2021",time:"01:50:30",study:"React 95 \u0443\u0440\u043e\u043a, udemy 1 \u0443\u0440\u043e\u043a"}],t=e.map((function(e){return Object(p.jsx)(k,{dateState:e.date,timeState:e.time,study:e.study},e.id)}));function n(e){var t=e.split(":");return 60*Number(t[0])*60+60*Number(t[1])+Number(t[2])}for(var r=0,s="",c="";r<e.length;)s=n(e[r].time),c=Number(s)+Number(c),r++;var a=parseInt(c,10),i=Math.floor(a/86400);a-=3600*i*24;var o=Math.floor(a/3600);a-=3600*o;var u=Math.floor(a/60);a-=60*u,1==String(u).length&&(u="0"+u),1==String(o).length&&(o="0"+o);var l=i+" \u0434\u043d\u044f, "+o+":"+u+":"+a;return Object(p.jsxs)("div",{children:["\u0412\u0440\u0435\u043c\u044f \u0443\u0447\u0435\u0431\u044b: ",Object(p.jsx)("br",{}),t,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",l]})},y=n(100),P=(n(136),n(116),n(36)),S=(n(126),n(12)),N=Object(S.b)((function(e){return{posts:e.profileReducer.posts}}),(function(e){return{addPost:function(t){var n=Object(P.c)(t);e(n)}}}))(y.a),C=(s.a.Component,n(125)),U=function(e){var t=Object(r.useState)(!1),n=Object(C.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)(e.status),i=Object(C.a)(a,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:"\u041c\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"}),Object(p.jsxs)("div",{children:[!s&&Object(p.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status}),s&&Object(p.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(o)},type:"text",value:o||"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})},R=function(e){var t=e.status,n=e.updateStatus,r=e.profile;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:_.a.topimg,children:Object(p.jsx)("img",{src:"/images/topimg.jpg",alt:""})}),Object(p.jsxs)("div",{className:_.a.content,children:[Object(p.jsx)(U,{status:t,updateStatus:n}),Object(p.jsx)(w,{})," ",Object(p.jsx)("br",{})," ",Object(p.jsx)("br",{}),"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c ",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(N,{profile:r})]})]})},T=(n(65),n(14)),I=n(13),E=n.n(I),F=n(22),M=n(48),A=n(5),z=n(17),L=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(A.a)(Object(A.a)({},e),r):e}))},D="FOLLOW",B="UNFOLLOW",G="TOOGLE_FOLLOWIN_PROGRESS",W="SET_USERS",Z="SET_CURRENT_PAGE",J="SET_USER_COUNT",K="TOGGLE_IS_FETCHING",Q={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},X=function(e){return{type:D,userId:e}},q=function(e){return{type:B,userId:e}},H=function(e,t){return{type:G,followingInProgress:e,userId:t}},V=function(e){return{type:W,users:e}},Y=function(e){return{type:Z,currentPage:e}},$=function(e){return{type:K,isFetching:e}},ee=function(){var e=Object(F.a)(E.a.mark((function e(t,n,r,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(H(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(H(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),te=n(64),ne=n(37),re=n.n(ne),se=(n(58),n(167)),ce=n.n(se),ae=n(11),ie=n(168),oe=Object(ie.a)((function(e){return e.usersReducer.users}),(function(e){return e.filter((function(e){return!0}))})),ue=function(e){return e.usersReducer.pageSize},le=function(e){return e.usersReducer.totalUsersCount},de=function(e){return e.usersReducer.currentPage},je=function(e){return e.usersReducer.isFetching},be=function(e){return e.usersReducer.followingInProgress},fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={activePage:r.currentPage},r}return Object(o.a)(n,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e}),this.props.onPageClick(e)}},{key:"render",value:function(){var e=this.props,t=e.totalUsersCount,n=e.pageSize,r=(e.onPageClick,e.currentPage),s=Math.ceil(t/n);return Object(p.jsxs)("div",{children:[Object(p.jsx)(ce.a,{activePage:r,itemsCountPerPage:10,totalItemsCount:t,pageRangeDisplayed:10,itemClass:"page-item",linkClass:"page-link",onChange:this.handlePageChange.bind(this)}),Object(p.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ",s]})]})}}]),n}(s.a.Component),pe=Object(ae.d)(Object(S.b)((function(e){return{currentPage:de(e)}}),{}))(fe),Oe=n(347),he=function(e){var t=e.user,n=e.deleteUsersThunk,r=e.postUsersThunk,s=e.followingInProgress;return Object(p.jsxs)("div",{className:re.a.block,children:[Object(p.jsx)("div",{className:re.a.buttonFriends,children:t.followed?Object(p.jsx)(Oe.a,{disabled:s.some((function(e){return e===t.id})),onClick:function(){n(t.id)},children:" UnFollow "}):Object(p.jsx)(Oe.a,{disabled:s.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:" Follow "})}),Object(p.jsxs)("div",{className:re.a.userprofile,children:[Object(p.jsx)(b.b,{to:"/profile/"+t.id,children:Object(p.jsx)("div",{className:re.a.avatar,children:null===t.photos.small?Object(p.jsx)("img",{src:"/images/avanone.webp",alt:""}):Object(p.jsx)("img",{src:t.photos.small,alt:""})})}),Object(p.jsx)("div",{children:t.name}),Object(p.jsx)("div",{children:t.status})]})]},t.id)},ge=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,s=e.onPageClick,c=e.followingInProgress,a=e.deleteUsersThunk,i=e.postUsersThunk,o=Object(te.a)(e,["currentPage","totalUsersCount","pageSize","onPageClick","followingInProgress","deleteUsersThunk","postUsersThunk"]);return Object(p.jsxs)("div",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438: ",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:re.a.pagination,children:Object(p.jsx)(pe,{currentPage:t,totalUsersCount:n,onPageClick:s,pageSize:r})}),o.users.map((function(e){return Object(p.jsx)(he,{user:e,followingInProgress:c,deleteUsersThunk:a,postUsersThunk:i},e.id)}))]})},me=n(42),xe=(n(127),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).onPageClick=function(t){var n=e.props.pageSize;e.props.getUsersThunk(n,t)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageSize,n=e.currentPage;this.props.getUsersThunk(t,n)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(me.a,{}):null,Object(p.jsx)(ge,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageClick:this.onPageClick,users:this.props.users,follow:this.props.follow,postUsersThunk:this.props.postUsersThunk,postDeleteUsersThunk:this.props.postDeleteUsersThunk,deleteUsersThunk:this.props.deleteUsersThunk,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,toogleFollowingInProgress:this.props.toogleFollowingInProgress})]})}}]),n}(s.a.Component)),ve=Object(ae.d)(Object(S.b)((function(e){return{users:oe(e),pageSize:ue(e),totalUsersCount:le(e),currentPage:de(e),isFetching:je(e),followingInProgress:be(e)}}),{follow:X,unfollow:q,toogleFollowingInProgress:H,getUsersThunk:function(e,t){return function(){var n=Object(F.a)(E.a.mark((function n(r){var s;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r($(!0)),n.next=3,z.c.getUsersApi(e,t);case 3:s=n.sent,r(Y(t)),r(V(s.items)),r((c=s.totalCount,{type:J,countUsers:c})),r($(!1));case 8:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()},postUsersThunk:function(e){return function(){var t=Object(F.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z.c.postUser(e),X,ee(n,e,z.c.postUser.bind(e),X);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteUsersThunk:function(e){return function(){var t=Object(F.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=z.c.deleteUser.bind(e),ee(n,e,r,q);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(xe),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.userName()}},{key:"render",value:function(){return Object(p.jsx)(O,Object(A.a)({},this.props))}}]),n}(s.a.Component),ke=Object(S.b)((function(e){return{isAuth:e.authReduser.isAuth,login:e.authReduser.login,email:e.authReduser.email}}),{userName:f.b,userlogut:f.d})(_e),we=n(93),ye=n(94),Pe=n(60),Se=n.n(Pe),Ne=function(e){var t=e.input,n=e.meta,r=Object(te.a)(e,["input","meta"]),s=n.touched&&n.error;return Object(p.jsxs)("div",{className:s&&Se.a.error,children:[s&&Object(p.jsx)("div",{children:Object(p.jsx)("span",{children:n.error})}),Object(p.jsx)("input",Object(A.a)(Object(A.a)({},t),r))]})},Ce=n(38),Ue=Object(ye.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(p.jsxs)("form",{action:"",onSubmit:t,children:[Object(p.jsx)("div",{children:Object(p.jsx)(we.a,{component:Ne,validate:[Ce.b],name:"login",type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d"})}),Object(p.jsx)("div",{children:Object(p.jsx)(we.a,{component:Ne,validate:[Ce.b],name:"password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)(we.a,{component:"input",type:"checkbox",name:"rememberMe"})," \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"]}),n&&Object(p.jsx)("div",{className:Se.a.formError,children:n}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"\u0412\u043e\u0439\u0442\u0438"})})]})})),Re=Object(S.b)((function(e){return{isAuth:e.authReduser.isAuth}}),{userlogin:f.c})((function(e){return e.isAuth?Object(p.jsx)(T.a,{to:"/profile"}):Object(p.jsxs)("div",{children:[" ",Object(p.jsx)("br",{})," ",Object(p.jsx)("br",{}),Object(p.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:" \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f "})," ",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(Ue,{onSubmit:function(t){e.userlogin(t.login,t.password,t.rememberMe)}})]})})),Te="SET_INITIALIZED",Ie={initialized:!1},Ee=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userIdMy)||this.props.history.push("/login"),this.props.ProfileShow(e),this.props.StatusShow(e)}},{key:"render",value:function(){return Object(p.jsx)(R,Object(A.a)(Object(A.a)({},this.props),{},{profile:this.props.profile}))}}]),n}(s.a.Component),Fe=Object(ae.d)(Object(S.b)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,userIdMy:e.authReduser.userId,isAuth:e.authReduser.isAuth}}),{setUserProfile:P.e,ProfileShow:P.a,StatusShow:P.b,updateStatus:P.f}),T.f)(Ee),Me=s.a.lazy((function(){return n.e(3).then(n.bind(null,348))})),Ae=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(p.jsx)(b.a,{basename:"/react2021",children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(ke,{}),Object(p.jsx)(x,{}),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)(T.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)(Fe,{})}}),Object(p.jsx)(T.b,{path:"/profile/:userId?",render:function(){return Object(p.jsx)(Fe,{})}}),Object(p.jsx)(T.b,{path:"/messages",render:(e=Me,function(t){return Object(p.jsx)(s.a.Suspense,{fallback:Object(p.jsx)(me.a,{}),children:Object(p.jsx)(e,Object(A.a)({},t))})})}),Object(p.jsx)(T.b,{path:"/users",render:function(){return Object(p.jsx)(ve,{})}}),Object(p.jsx)(T.b,{path:"/login",render:function(){return Object(p.jsx)(Re,{})}})]}),Object(p.jsx)(h,{})]})}):Object(p.jsx)(me.a,{});var e}}]),n}(r.Component),ze=Object(S.b)((function(e){return{initialized:e.appReduser.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(f.b)());Promise.all([t]).then((function(){e({type:Te})}))}}})(Ae),Le=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,349)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),c(e),a(e)}))},De=n(115),Be=n(178),Ge=n(161),We=Object(ae.c)({profileReducer:P.d,messageReducer:De.b,usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(A.a)(Object(A.a)({},e),{},{users:Object(M.a)(t.users)});case Z:return Object(A.a)(Object(A.a)({},e),{},{currentPage:t.currentPage});case J:return Object(A.a)(Object(A.a)({},e),{},{totalUsersCount:t.countUsers});case K:return Object(A.a)(Object(A.a)({},e),{},{isFetching:t.isFetching});case D:return Object(A.a)(Object(A.a)({},e),{},{users:L(e.users,t.userId,"id",{followed:!0})});case B:return Object(A.a)(Object(A.a)({},e),{},{users:L(e.users,t.userId,"id",{followed:!1})});case G:return Object(A.a)(Object(A.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(M.a)(e.followingInProgress),[t.userId]):Object(M.a)(e.followingInProgress.filter((function(e){return e!=t.userId})))});default:return e}},authReduser:f.a,appReduser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(A.a)(Object(A.a)({},e),{},{initialized:!0});default:return e}},form:Ge.a}),Ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,Je=Object(ae.e)(We,Ze(Object(ae.a)(Be.a)));window.__store__=Je;var Ke=Je;n(344);a.a.render(Object(p.jsx)(S.a,{store:Ke,children:Object(p.jsx)(ze,{})}),document.getElementById("root")),Le()},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return v}));var r=n(13),s=n.n(r),c=n(22),a=n(48),i=n(5),o=n(17),u="ADD-POST",l="SET_USER_PROFILE",d="SET_STATUS",j="DELETE_POST",b=function(e,t){return Math.floor(Math.random()*(t-e))+e},f={posts:[{id:1,message:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?",like:b(0,120)},{id:2,message:"\u0427\u0435\u043c \u0437\u0430\u043d\u044f\u0442?",like:b(0,120)},{id:3,message:"\u0417\u0430\u0439\u043c\u0438 5000?",like:b(0,120)},{id:4,message:"\u041e\u0442\u0434\u0430\u043c \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0434\u0435\u043b\u044e",like:b(0,120)}],profile:null,status:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:5,message:t.text,like:b(0,120)};return Object(i.a)(Object(i.a)({},e),{},{newPostText:"",posts:[].concat(Object(a.a)(e.posts),[n])});case j:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.Postid}))});case l:return Object(i.a)(Object(i.a)({},e),{},{profile:t.setUserProfile});case d:return Object(i.a)(Object(i.a)({},e),{},{status:t.setUserStatus});default:return e}},O=function(e){return{type:u,text:e}},h=function(e){return{type:l,setUserProfile:e}},g=function(e){return{type:d,setUserStatus:e}},m=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.getProfile(e);case 2:r=t.sent,n(h(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfileStatus(e);case 2:r=t.sent,n(g(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateProfileStatus(e);case 2:0===t.sent.data.resultCode&&n(g(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},37:function(e,t,n){e.exports={avatar:"users_avatar__21mF8",bold:"users_bold__3q12B",pagination:"users_pagination__169Bh",block:"users_block__2Or8p",buttonFriends:"users_buttonFriends__3tEdN",userprofile:"users_userprofile__3N1Z1"}},38:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},s=function(e){return function(t){if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}},41:function(e,t,n){e.exports={content:"dialogs_content__5QLkx",dislogs:"dialogs_dislogs__3fWn_",dialog_items:"dialogs_dialog_items__KMhuT",messanges:"dialogs_messanges__2dqMB",active:"dialogs_active__kfK57"}},42:function(e,t,n){"use strict";var r=n(162),s=n.n(r),c=n(1);t.a=function(){return Object(c.jsxs)("div",{className:s.a.lds_spinner,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}},49:function(e,t,n){e.exports={leftMenu:"leftMenu_leftMenu__1p43Y",active:"leftMenu_active__4zMtW",item:"leftMenu_item__3n5RH"}},60:function(e,t,n){e.exports={error:"FormControl_error__3t8bW",formError:"FormControl_formError__1GEfQ"}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(0);var r=n(41),s=n.n(r),c=n(158),a=n(159),i=(n(115),n(93)),o=n(94),u=n(89),l=n(38),d=n(1),j=Object(l.a)(100),b=Object(o.a)({form:"dialog"})((function(e){return Object(d.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(d.jsx)(i.a,{component:u.a,validate:[l.b,j],name:"textarea",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(d.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),f=function(e){var t=e.dialogs.map((function(e){return Object(d.jsx)(c.a,{name:e.name,id:e.id},e.id)})),n=e.messages.map((function(e){return Object(d.jsx)(a.a,{message:e.message},e.id)}));return Object(d.jsxs)("div",{className:s.a.content,children:["\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:s.a.dislogs,children:[Object(d.jsx)("div",{className:s.a.dialog_items,children:t}),Object(d.jsxs)("div",{className:s.a.messanges,children:[n,Object(d.jsx)(b,{onSubmit:function(t){e.addMessage(t.textarea),t.textarea=""}})]})]})]})}},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),s=n(64),c=(n(0),n(60)),a=n.n(c),i=n(1),o=function(e){var t=e.input,n=e.meta,c=Object(s.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(i.jsxs)("div",{className:o?a.a.error:"",children:[o&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:n.error})}),Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},t),c))]})}},95:function(e,t,n){e.exports={logo:"header_logo__35lb_",loginBlock:"header_loginBlock__1o6o4"}}},[[345,1,2]]]);
//# sourceMappingURL=main.d9d8ca96.chunk.js.map